<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Perguntas - Matemática</title>
    <link rel="stylesheet" href="/css/pag_mat.css">
</head>
<body>
    <header>
        <div class="logo">
            <h1 class="titulo_circulo"><a href="/perguntas.html">ESTUD.ai</a></h1>
        </div>
    </header>
    <main>
        <div class="card_pergunta">
            <img src="./imagem/img-pag_pergunta.png" alt="">
            <p>Três sócios resolveram fundar uma fábrica. O investimento inicial foi de R$ 1 000 000,00. E, independentemente do valor que cada um investiu nesse primeiro momento, resolveram considerar que cada um deles contribuiu com um terço do investimento inicial. Algum tempo depois, um quarto sócio entrou para a sociedade, e os quatro, juntos, investiram mais R$ 800 000,00 na fábrica. Cada um deles contribuiu com um quarto desse valor. Quando venderam a fábrica, nenhum outro investimento havia sido feito. Os sócios decidiram então dividir o montante de R$ 1 800 000,00 obtido com a venda, de modo proporcional à quantia total investida por cada sócio. 

                Quais os valores mais próximos, em porcentagens, correspondentes às parcelas financeiras que cada um dos três sócios iniciais e o quarto sócio, respectivamente, receberam?
            </p>
        </div>
    
        <form>
            <div class="radio-group">
                <input type="radio" id="cor1" name="cor" value="vermelho" data-correct="false">
                <label for="cor1">29,60 e 11,11</label>
            </div>
            <div class="radio-group">
                <input type="radio" id="cor2" name="cor" value="azul" data-correct="true">
                <label for="cor2">28,70 e 13,89</label>
            </div>
            <div class="radio-group">
                <input type="radio" id="cor3" name="cor" value="verde" data-correct="false">
                <label for="cor3">25,00 e 25,00.</label>
            </div>
            <div class="radio-group">
                <input type="radio" id="cor4" name="cor" value="amarelo" data-correct="false">
                <label for="cor4">18,52 e 11,11.</label>
            </div>
        </form>
    
        <div class="container_btn">
            <button class="btn_voltar"><a href="./perguntas/pag_port.html">Voltar</a></button>
            <button id="nextButton" class="btn_enviar">Próxima</button>
        </div>
    </main>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            const questionId = "mathematics"; // Identificador da seção de matemática
            const totalQuestions = 16; // Total de perguntas
            let correctAnswers = parseInt(localStorage.getItem(`${questionId}_correct`)) || 0;
            let incorrectAnswers = parseInt(localStorage.getItem(`${questionId}_incorrect`)) || 0;

            // Adiciona listeners para detectar a seleção das respostas
            document.querySelectorAll('input[type="radio"]').forEach(radio => {
                radio.addEventListener('change', function() {
                    const isCorrect = this.dataset.correct === "true"; // Verifica se a resposta está correta

                    // Atualiza os contadores
                    if (isCorrect) {
                        correctAnswers++;
                    } else {
                        incorrectAnswers++;
                    }

                    // Salva as respostas no localStorage
                    localStorage.setItem(`${questionId}_correct`, correctAnswers);
                    localStorage.setItem(`${questionId}_incorrect`, incorrectAnswers);

                    // Habilita o botão de salvar após a seleção
                    document.getElementById("saveButton").disabled = false;
                });
            });

            // Função para salvar automaticamente e redirecionar após um timer
            document.getElementById('nextButton').addEventListener('click', function(event) {
                event.preventDefault(); // Impede o redirecionamento padrão

                // Salvar as respostas
                const selectedAnswer = document.querySelector('input[type="radio"]:checked');
                if (selectedAnswer) {
                    
                    // Após 2 segundos, redireciona para a próxima pergunta
                    setTimeout(function() {
                        window.location.href = './pag_fisica.html'; // Próxima página
                    }, 1000);
                } else {
                    alert("Por favor, selecione uma resposta antes de prosseguir.");
                }
            });
        });
    </script>
</body>
</html>
